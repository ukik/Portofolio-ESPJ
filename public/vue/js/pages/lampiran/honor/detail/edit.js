webpackJsonp([122],{BjU9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("NYxO"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default={computed:o({},Object(i.mapGetters)({get_listPegawai:"getters/lampiran/honor/detail/listPegawai",get_form:"getters/lampiran/honor/form",get_form_detail:"getters/lampiran/honor/form_detail"})),methods:o({},Object(i.mapActions)({set_edit:"setters/api/lampiran/honor/detail/edit"}),{onInitData:function(){var t=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id,a=this.get_form_detail.id;return new Promise(function(i,o){axios.get("lampiran/honor/"+e+"/detail/"+a+"/edit").then(function(e){if(void 0==e)return i();t.AutocompletePegawai(e.data.data.listPegawai),i(t.set_edit(e.data.data))}).catch(function(t){o(t)})})},onRefresh:function(){this.onInitData()},onSubmit:function(){this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=this.get_form.id,e=this.get_form_detail.id,a=this.pegawai_id,i=document.getElementById("jumlah").value,o=document.getElementById("satuan").value,n=document.getElementById("volume").value,r={id:t,detail_id:e,pegawai_id:a,jumlah:i,satuan:o,volume:n};new Promise(function(a,i){axios.put("lampiran/honor/"+t+"/detail/"+e+"/edit",r).then(function(t){a(t)}).catch(function(t){i(t)})})},AutocompletePegawai:function(t){var e=this;this.items_pegawai=[],this.selected_pegawai=null,this.pegawai_id="",new Promise(function(a){t.forEach(function(t){var a=t;a.search=t.nama+" "+t.nip,e.items_pegawai.push(a),t.id==e.get_form_detail.pegawai_id&&(e.selected_pegawai=t.nama+" "+t.nip)}),a()}).then(function(t){e.pageReady=!0,e.pegawai_id=e.get_form_detail.pegawai_id})},onSelectedItemPegawai:function(t){this.pegawai_id=t.id}}),mounted:function(){this.onInitData()},data:function(){return{pageReady:!1,items_pegawai:[],selected_pegawai:null,pegawai_id:""}}}},N7uu:function(t,e,a){var i=a("VU/8")(a("BjU9"),a("uK2r"),!1,null,null,null);t.exports=i.exports},uK2r:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toolbar",{attrs:{slot:"title",judul:"Edit Detail Honor"},slot:"title"},[a("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),a("BackButton")],1),t._v(" "),t.$root.error.status?a("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[a("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$root.error.message)+"\n    ")]):t._e(),t._v(" "),t.$root.request?a("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[a("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):t._e(),t._v(" "),a("Formulir",[a("FormulirLegend",{attrs:{slot:"legend",title:"Edit Detail Honor"},slot:"legend"}),t._v(" "),t.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:t.selected_pegawai,items:t.items_pegawai,title:"Pegawai"},on:{onSelectedItem:t.onSelectedItemPegawai},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                "+t._s(e.result.nama)+" - "+t._s(e.result.nip)+"\n            ")]}},{key:"selection",fn:function(e){return[t._v("\n                "+t._s(e.result.nama)+" - "+t._s(e.result.nip)+"\n            ")]}}])}):t._e(),t._v(" "),a("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("FormulirInput",{attrs:{slot:"input",type:"number",title:"Jumlah",name:"jumlah",placeholder:"Jumlah"},slot:"input",model:{value:t.get_form_detail.jumlah,callback:function(e){t.$set(t.get_form_detail,"jumlah",e)},expression:"get_form_detail.jumlah"}})],1),t._v(" "),a("div",{staticClass:"col-md-3"},[a("FormulirInput",{attrs:{slot:"input",type:"text",title:"Satuan",name:"satuan",placeholder:"Satuan"},slot:"input",model:{value:t.get_form_detail.jumlah,callback:function(e){t.$set(t.get_form_detail,"jumlah",e)},expression:"get_form_detail.jumlah"}})],1),t._v(" "),a("div",{staticClass:"col"},[a("FormulirInput",{attrs:{slot:"input",type:"number",title:"Honor",name:"volume",placeholder:"Honor"},slot:"input",model:{value:t.get_form_detail.volume,callback:function(e){t.$set(t.get_form_detail,"volume",e)},expression:"get_form_detail.volume"}})],1)])]),t._v(" "),a("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(e){t.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}}});
webpackJsonp([113],{Ug6q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("NYxO"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default={computed:i({},Object(a.mapGetters)({get_dpa:"getters/lampiran/perjadin/dpa",get_bendahara:"getters/lampiran/perjadin/bendahara",get_pimpinan:"getters/lampiran/perjadin/pimpinan",get_listProgramKegiatan:"getters/lampiran/perjadin/listProgramKegiatan",get_listKodeRekening:"getters/lampiran/perjadin/listKodeRekening",get_listPerjadin:"getters/lampiran/perjadin/listPerjadin",get_listLokasi:"getters/lampiran/perjadin/listLokasi",get_form:"getters/lampiran/perjadin/form"}),{undefined_bendahara:function(){return function(e){return null==e||void 0==e?"":e.nama}},undefined_pimpinan:function(){return function(e){return null==e||void 0==e?"":e.nama}}}),methods:i({},Object(a.mapActions)({set_edit:"setters/api/lampiran/perjadin/edit"}),{onInitData:function(){var e=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=void 0==this.$route.query.id?this.get_form.id:this.$route.query.id;return new Promise(function(n,a){axios.get("lampiran/perjadin/perubahan/"+t+"/edit?kode_dpa="+e.get_form.kode_dpa).then(function(t){if(void 0==t)return n();e.AutocompleteBendahara(t.data.data.bendahara),e.AutocompletePimpinan(t.data.data.pimpinan),e.AutocompleteKegiatan(t.data.data.listProgramKegiatan),e.AutocompleteRekening(t.data.data.listKodeRekening),e.AutocompleteBerangkat(t.data.data.listLokasi),e.AutocompleteTujuan(t.data.data.listLokasi),e.AutocompleteKPA(t.data.data.listKpa),e.AutocompletePPTK(t.data.data.listPptk),n(e.set_edit(t.data.data))}).catch(function(e){a(e)})})},onRefresh:function(){this.items_kegiatan=[],this.selected_kegiatan=null,this.kode_dpa="",this.items_rekening=[],this.selected_rekening=null,this.kode_rekening="",this.items_berangkat=[],this.selected_berangkat=null,this.lokasi_id="",this.lokasi_nama="",this.items_tujuan=[],this.selected_tujuan=null,this.tempat_tujuan="",this.items_bendahara=[],this.selected_bendahara=null,this.bendahara_id="",this.items_pimpinan=[],this.selected_pimpinan=null,this.pimpinan_id="",this.onInitData()},onSubmit:function(){var e=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=void 0==this.$route.query.id?this.get_form.id:this.$route.query.id,n={nomor_spt:document.getElementById("nomor_spt").value,tanggal:this.tanggal,kode_dpa:this.kode_dpa,kode_rekening:this.kode_rekening,uraian:document.getElementById("uraian").value,keterangan:document.getElementById("keterangan").value,tanggal_berangkat:this.tanggal_berangkat,tanggal_kembali:this.tanggal_kembali,lokasi_id:this.lokasi_id,lokasi_nama:this.lokasi_nama,tempat_tujuan:this.tempat_tujuan,bendahara_id:this.bendahara_id,pimpinan_id:this.pimpinan_id,kpa_id:this.kpa_id,pptk_id:this.pptk_id};new Promise(function(e,a){axios.put("lampiran/perjadin/perubahan/"+t,n).then(function(t){e(t)}).catch(function(e){a(e)})}).then(function(t){"complete"==t.data.data.info&&e.jump({name:"lampiran-perjadin-perubahan"})})},onBack:function(){this.jump({name:"lampiran-perjadin-perubahan"})},onPicker:function(e){this[e.key]=e.value},AutocompleteKPA:function(e){var t=this;this.items_kpa=[],this.selected_kpa=null,this.kpa_id="",new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.singkatan+" "+e.nama,t.items_kpa.push(n),e.id==t.get_form.kpa_id&&(t.selected_kpa=e.singkatan+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.kpa_id=t.get_form.kpa_id})},onSelectedItemKPA:function(e){this.kpa_id=e.id},AutocompletePPTK:function(e){var t=this;this.items_pptk=[],this.selected_pptk=null,this.pptk_id="",new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.singkatan+" "+e.nama,t.items_pptk.push(n),e.id==t.get_form.pptk_id&&(t.selected_pptk=e.singkatan+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.pptk_id=t.get_form.pptk_id})},onSelectedItemPPTK:function(e){this.pptk_id=e.id},AutocompleteRekening:function(e){var t=this;new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.kode_rekening+" "+e.nama,t.items_rekening.push(n),e.kode_rekening==t.get_form.kode_rekening&&(t.selected_rekening=e.kode_rekening+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.kode_rekening=t.get_form.kode_rekening})},AutocompleteKegiatan:function(e){var t=this;new Promise(function(n){e.forEach(function(e){e.kegiatan.forEach(function(n){var a=n;a.parent_kode_dpa=e.kode_dpa,a.parent_nama=e.nama,a.search=e.kode_dpa+" "+n.kode_dpa+" "+e.nama+" "+n.nama,t.items_kegiatan.push(a),n.kode_dpa==t.get_form.kode_dpa&&(t.selected_kegiatan=e.kode_dpa+" "+n.kode_dpa+" "+e.nama+" "+n.nama)})}),n()}).then(function(e){t.pageReady=!0,t.kode_dpa=t.get_form.kode_dpa})},onSelectedItemKegiatan:function(e){this.kode_dpa=e.kode_dpa},onSelectedItemRekening:function(e){this.kode_rekening=e.kode_rekening},AutocompleteBerangkat:function(e){var t=this;new Promise(function(n){e.forEach(function(e){e.sub.forEach(function(n){var a=n;a.parent_nama=e.nama,a.search=e.jenis+" "+e.nama+" "+n.jenis+" "+n.nama,t.items_berangkat.push(a),n.nama==t.get_form.lokasi_nama&&(t.selected_berangkat=e.jenis+" "+e.nama+" "+n.jenis+" "+n.nama)})}),n()}).then(function(e){t.pageReady=!0,t.lokasi_id=t.get_form.lokasi_id,t.lokasi_nama=t.get_form.lokasi_nama})},onSelectedItemBerangkat:function(e){this.lokasi_id=e.id,this.lokasi_nama=e.nama},AutocompleteTujuan:function(e){var t=this;new Promise(function(n){e.forEach(function(e){e.sub.forEach(function(n){var a=n;a.parent_nama=e.nama,a.search=e.jenis+" "+e.nama+" "+n.jenis+" "+n.nama,t.items_tujuan.push(a),n.nama==t.get_form.tempat_tujuan&&(t.selected_tujuan=e.jenis+" "+e.nama+" "+n.jenis+" "+n.nama)})}),n()}).then(function(e){t.pageReady=!0,t.tempat_tujuan=t.get_form.lokasi_id})},onSelectedItemTujuan:function(e){this.tempat_tujuan=e.nama},AutocompleteBendahara:function(e){var t=this;new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.nip+" "+e.nama,t.items_bendahara.push(n),e.id==t.get_form.bendahara_id&&(t.selected_bendahara=e.nip+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.bendahara_id=t.get_form.bendahara_id})},onSelectedItemBendahara:function(e){this.bendahara_id=e.id},AutocompletePimpinan:function(e){var t=this;new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.nip+" "+e.nama,t.items_pimpinan.push(n),e.id==t.get_form.pimpinan_id&&(t.selected_pimpinan=e.nip+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.pimpinan_id=t.get_form.pimpinan_id})},onSelectedItemPimpinan:function(e){this.pimpinan_id=e.id}}),mounted:function(){this.onInitData()},data:function(){return{tanggal:null,tanggal_berangkat:null,tanggal_kembali:null,pageReady:!1,items_kegiatan:[],selected_kegiatan:null,kode_dpa:"",items_rekening:[],selected_rekening:null,kode_rekening:"",items_berangkat:[],selected_berangkat:null,lokasi_id:"",lokasi_nama:"",items_tujuan:[],selected_tujuan:null,tempat_tujuan:"",items_bendahara:[],selected_bendahara:null,bendahara_id:"",items_pimpinan:[],selected_pimpinan:null,pimpinan_id:"",items_pptk:[],selected_pptk:null,pptk_id:"",items_kpa:[],selected_kpa:null,kpa_id:""}}}},igZ0:function(e,t,n){var a=n("VU/8")(n("Ug6q"),n("lnHR"),!1,null,null,null);e.exports=a.exports},lnHR:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Toolbar",{attrs:{slot:"title",judul:"Edit SPT"},slot:"title"},[n("RefreshButton",{on:{onRefresh:function(t){e.onRefresh()}}}),e._v(" "),n("BackButton",{on:{onBack:function(t){e.onBack()}}})],1),e._v(" "),e.$root.error.status?n("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[n("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$root.error.message)+"\n    ")]):e._e(),e._v(" "),e.$root.request?n("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[n("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):e._e(),e._v(" "),n("Formulir",{attrs:{column_content:"col-12"}},[n("FormulirLegend",{attrs:{slot:"legend",title:"Edit SPT"},slot:"legend"}),e._v(" "),n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("FormulirInput",{attrs:{slot:"input",type:"text",title:"Nomor Surat",name:"nomor_spt",value:e.get_listPerjadin,placeholder:"Nomor Surat"},slot:"input"})],1),e._v(" "),n("div",{staticClass:"col"},[n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal Surat",name:"tanggal",value:e.get_form.tanggal,placeholder:"Tanggal Surat"},on:{onPicker:function(t){e.onPicker({key:"tanggal",value:t})}},slot:"input"})],1)])]),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_kegiatan,items:e.items_kegiatan,title:"Kegiatan / Belanja"},on:{onSelectedItem:e.onSelectedItemKegiatan},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[n("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "),n("br"),e._v("\n                            [ "+e._s(t.result.kode_dpa)+" ]: "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_dpa)+" ]: "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_rekening,items:e.items_rekening,title:"Kode Rekening"},on:{onSelectedItem:e.onSelectedItemRekening},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_kpa,items:e.items_kpa,title:"KPA"},on:{onSelectedItem:e.onSelectedItemKPA},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}},{key:"selection",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_pptk,items:e.items_pptk,title:"PPTK"},on:{onSelectedItem:e.onSelectedItemPPTK},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}},{key:"selection",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_pimpinan,items:e.items_pimpinan,title:"Pimpinan"},on:{onSelectedItem:e.onSelectedItemPimpinan},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_bendahara,items:e.items_bendahara,title:"Bendahara"},on:{onSelectedItem:e.onSelectedItemBendahara},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),n("FormulirTextarea",{attrs:{slot:"input",title:"Perihal/Maksud Perjalanan Dinas",name:"uraian",value:e.get_form.uraian,placeholder:"Perihal/Maksud Perjalanan Dinas"},slot:"input"}),e._v(" "),n("FormulirTextarea",{attrs:{slot:"input",title:"Keterangan",name:"keterangan",value:e.get_form.keterangan,placeholder:"Keterangan"},slot:"input"}),e._v(" "),n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal Berangkat",name:"tanggal_berangkat",value:e.get_form.tanggal_berangkat,placeholder:"Tanggal Berangkat"},on:{onPicker:function(t){e.onPicker({key:"tanggal_berangkat",value:t})}},slot:"input"})],1),e._v(" "),n("div",{staticClass:"col"},[n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal Kembali",name:"tanggal_kembali",value:e.get_form.tanggal_kembali,placeholder:"Tanggal Kembali"},on:{onPicker:function(t){e.onPicker({key:"tanggal_kembali",value:t})}},slot:"input"})],1)])]),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_berangkat,items:e.items_berangkat,title:"Lokasi Berangkat"},on:{onSelectedItem:e.onSelectedItemBerangkat},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[n("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[n("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_tujuan,items:e.items_tujuan,title:"Lokasi Tujuan"},on:{onSelectedItem:e.onSelectedItemTujuan},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[n("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[n("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),n("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(t){e.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}}});
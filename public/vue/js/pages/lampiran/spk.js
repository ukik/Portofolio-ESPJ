webpackJsonp([112],{BZNu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("NYxO"),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};e.default={computed:i({},Object(s.mapGetters)({get_spk:"getters/lampiran/spk/spk"})),methods:i({},Object(s.mapActions)({set_spk:"setters/api/lampiran/spk/spk",set_form:"setters/non-api/lampiran/spk/form",set_splice:"setters/non-api/lampiran/spk/splice",set_replace:"setters/non-api/lampiran/spk/replace"}),{onInitData:function(){var t=this;return this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0,new Promise(function(e,a){axios.get("lampiran/spk"+t.suffix).then(function(a){if(void 0==a)return e();e(t.set_spk(a.data.data.spk))}).catch(function(t){a(t)})})},onRefresh:function(){this.callback_status=!1,this.onInitData()},onCancel:function(t){this.onCancelConfirmation({url:"lampiran/spk/"+t.id+"/batal",id:t.id,bundle:t})},onDelete:function(t){this.onDeleteConfirmation({url:"lampiran/spk/"+t.id,id:t.id,bundle:t})},onAjukan:function(t){this.onAjukanConfirmation({url:"lampiran/spk/"+t.id+"/ajukan",id:t.id,bundle:t})}}),mounted:function(){this.get_callback_status&&this.set_callback_reset(),this.onInitData(),this.$memory.set("last_route",this.$route.name)},data:function(){return{callback_status:this.$store.state.callback.callback_status,judul:"Lampiran SPK",user:this.$root.level,theads:[{title:"No",width:"30"},{title:"Jenis",width:""},{title:"Nomor",width:""},{title:"Tanggal",width:""},{title:"Nama Pekerjaan",width:""},{title:"Uraian",width:""},{title:"Status",width:""},{title:"Aksi",width:"150"}]}}}},DNiH:function(t,e,a){var s=a("VU/8")(a("BZNu"),a("P4fl"),!1,null,null,null);t.exports=s.exports},P4fl:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toolbar",{attrs:{slot:"toolbar",judul:t.judul},slot:"toolbar"},[a("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),"Supervisor"!=t.user?a("DropdownButton",{staticClass:"mr-2",attrs:{classname:"primary",name:"Tambah SPK"}},[a("a",{directives:[{name:"pointer",rawName:"v-pointer"}],staticClass:"dropdown-item",on:{click:function(e){t.jump({name:"lampiran-spk-create",query:{jenis:"besar"}})}}},[t._v("Besar")]),t._v(" "),a("a",{directives:[{name:"pointer",rawName:"v-pointer"}],staticClass:"dropdown-item",on:{click:function(e){t.jump({name:"lampiran-spk-create",query:{jenis:"kecil"}})}}},[t._v("Kecil")])]):t._e()],1),t._v(" "),a("TableView",{attrs:{items:t.get_spk.data,theads:t.theads},scopedSlots:t._u([{key:"default",fn:function(e){return[a("tr",[a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.index+1))]),t._v(" "),a("td",{directives:[{name:"jenis-spk",rawName:"v-jenis-spk",value:e.item.jenis,expression:"scope.item.jenis"}],staticClass:"align-middle text-center"}),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.item.nomor_spk))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.item.tanggal))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.item.nama_pekerjaan))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.item.uraian))]),t._v(" "),a("td",{directives:[{name:"status-info",rawName:"v-status-info",value:e.item.status,expression:"scope.item.status"}],staticClass:"align-middle text-center"}),t._v(" "),a("td",{staticClass:"text-center"},[e.item.status<=0&&"Supervisor"!=t.user?a("a",{staticClass:"icon",attrs:{target:"_blank"},on:{click:function(a){t.onAjukan({id:e.item.id,status:1})}}},[a("i",{staticClass:"fe fe-send text-primary"})]):t._e(),t._v(" "),1==e.item.status&&"Supervisor"!=t.user?a("a",{staticClass:"icon",attrs:{target:"_blank"},on:{click:function(a){t.onCancel({id:e.item.id,index:e.index})}}},[a("i",{staticClass:"fe fe-x text-danger"})]):t._e(),t._v(" "),2==e.item.status?a("a",{staticClass:"icon",on:{click:function(a){t.onOpenDocument({url:"lampiran/spk/"+e.item.id+"/print"})}}},[a("i",{staticClass:"fe fe-printer text-success"})]):t._e(),t._v(" "),2==e.item.status&&"Supervisor"!=t.user?a("a",{staticClass:"icon",on:{click:function(a){t.set_form({id:e.item.id}),t.jump({name:"lampiran-spk-rab",query:{tanggal:!0}})}}},[a("i",{staticClass:"fe fe-file text-warning"})]):t._e(),t._v(" "),e.item.status<=0&&"Supervisor"!=t.user?a("a",{staticClass:"icon",on:{click:function(a){t.set_form({id:e.item.id}),t.jump({name:"lampiran-spk-edit"})}}},[a("i",{staticClass:"fe fe-edit"})]):t._e(),t._v(" "),2!=e.item.status&&"Supervisor"!=t.user?a("a",{staticClass:"icon",on:{click:function(a){t.onDelete({id:e.item.id})}}},[a("i",{staticClass:"fe fe-trash-2 text-danger"})]):t._e()])])]}}])},[a("Paginator",{attrs:{slot:"paginate",totalPage:t.total_paginate(t.get_spk.last_page)},on:{btnClick:t.onPaginator},slot:"paginate"})],1)],1)},staticRenderFns:[]}}});
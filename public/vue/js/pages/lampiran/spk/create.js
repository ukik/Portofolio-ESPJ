webpackJsonp([111],{"7paH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("NYxO"),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default={computed:i({},Object(a.mapGetters)({get_dpa:"getters/lampiran/spk/dpa",get_bendahara:"getters/lampiran/spk/bendahara",get_pimpinan:"getters/lampiran/spk/pimpinan",get_listProgramKegiatan:"getters/lampiran/spk/listProgramKegiatan",get_listKodeRekening:"getters/lampiran/spk/listKodeRekening",get_listJenis:"getters/lampiran/spk/listJenis",get_listRekanan:"getters/lampiran/spk/listRekanan",get_listPelaksanaanSatuan:"getters/lampiran/spk/listPelaksanaanSatuan",get_listSpk:"getters/lampiran/spk/listSpk",get_listLokasi:"getters/lampiran/spk/listLokasi"}),{undefined_bendahara:function(){return function(t){return null==t||void 0==t?"":t.nama}},undefined_pimpinan:function(){return function(t){return null==t||void 0==t?"":t.nama}}}),methods:i({},Object(a.mapActions)({set_edit:"setters/api/lampiran/spk/edit"}),{onInitData:function(){var t=this;return this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0,new Promise(function(e,n){axios.get("lampiran/spk/create").then(function(n){if(void 0==n)return e();t.AutocompleteBendahara(n.data.data.bendahara),t.AutocompletePimpinan(n.data.data.pimpinan),t.AutocompleteKegiatan(n.data.data.listProgramKegiatan),t.AutocompleteRekening(n.data.data.listKodeRekening),t.AutocompleteLokasi(n.data.data.listLokasi),t.AutocompleteKPA(n.data.data.listKpa),t.AutocompletePPTK(n.data.data.listPptk),e(t.set_edit(n.data.data))}).catch(function(t){n(t)})})},onRefresh:function(){this.items_kegiatan=[],this.selected_kegiatan=null,this.kode_dpa="",this.items_rekening=[],this.selected_rekening=null,this.kode_rekening="",this.items_lokasi=[],this.selected_lokasi=null,this.terbit_lokasi="",this.items_bendahara=[],this.selected_bendahara=null,this.bendahara_id="",this.items_pimpinan=[],this.selected_pimpinan=null,this.pimpinan_id="",this.onInitData()},onSubmit:function(){this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t={nomor_spk:document.getElementById("nomor_spk").value,tanggal:this.tanggal,jenis:document.getElementById("jenis").value,kode_dpa:this.kode_dpa,kode_rekening:this.kode_rekening,nama_pekerjaan:document.getElementById("nama_pekerjaan").value,uraian:document.getElementById("uraian").value,rekanan_id:document.getElementById("rekanan_id").value,rekanan_jabatan:document.getElementById("rekanan_jabatan").value,pelaksanaan_jumlah:document.getElementById("pelaksanaan_jumlah").value,pelaksanaan_satuan:document.getElementById("pelaksanaan_satuan").value,terbit_lokasi:this.terbit_lokasi,terbit_tanggal:this.terbit_tanggal,bendahara_id:this.bendahara_id,pimpinan_id:this.pimpinan_id,kpa_id:this.kpa_id,pptk_id:this.pptk_id};new Promise(function(e,n){axios.post("lampiran/spk/create",t).then(function(t){e(t)}).catch(function(t){n(t)})})},onPicker:function(t){this[t.key]=t.value},AutocompleteKPA:function(t){var e=this;this.items_kpa=[],this.selected_kpa=null,this.kpa_id="",new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.singkatan+" "+t.nama,e.items_kpa.push(n)}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemKPA:function(t){this.kpa_id=t.id},AutocompletePPTK:function(t){var e=this;this.items_pptk=[],this.selected_pptk=null,this.pptk_id="",new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.singkatan+" "+t.nama,e.items_pptk.push(n)}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemPPTK:function(t){this.pptk_id=t.id},AutocompleteRekening:function(t){var e=this;new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.kode_rekening+" "+t.nama,e.items_rekening.push(n)}),n()}).then(function(t){e.pageReady=!0})},AutocompleteKegiatan:function(t){var e=this;new Promise(function(n){t.forEach(function(t){t.kegiatan.forEach(function(n){var a=n;a.parent_kode_dpa=t.kode_dpa,a.parent_nama=t.nama,a.search=t.kode_dpa+" "+n.kode_dpa+" "+t.nama+" "+n.nama,e.items_kegiatan.push(a)})}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemKegiatan:function(t){this.kode_dpa=t.kode_dpa},onSelectedItemRekening:function(t){this.kode_rekening=t.kode_rekening},AutocompleteLokasi:function(t){var e=this;new Promise(function(n){t.forEach(function(t){t.sub.forEach(function(n){var a=n;a.parent_nama=t.nama,a.search=t.jenis+" "+t.nama+" "+n.jenis+" "+n.nama,e.items_lokasi.push(a)})}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemLokasi:function(t){this.terbit_lokasi=t.nama},AutocompleteBendahara:function(t){var e=this;new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.nip+" "+t.nama,e.items_bendahara.push(n)}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemBendahara:function(t){this.bendahara_id=t.id},AutocompletePimpinan:function(t){var e=this;new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.nip+" "+t.nama,e.items_pimpinan.push(n)}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemPimpinan:function(t){this.pimpinan_id=t.id}}),mounted:function(){this.onInitData()},data:function(){return{tanggal:null,terbit_tanggal:null,pageReady:!1,items_kegiatan:[],selected_kegiatan:null,kode_dpa:"",items_rekening:[],selected_rekening:null,kode_rekening:"",items_lokasi:[],selected_lokasi:null,terbit_lokasi:"",items_bendahara:[],selected_bendahara:null,bendahara_id:"",items_pimpinan:[],selected_pimpinan:null,pimpinan_id:"",items_pptk:[],selected_pptk:null,pptk_id:"",items_kpa:[],selected_kpa:null,kpa_id:"",jenis:this.$route.query.jenis}}}},TgFW:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Toolbar",{attrs:{slot:"title",judul:"Create SPK"},slot:"title"},[n("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),n("BackButton")],1),t._v(" "),t.$root.error.status?n("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[n("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$root.error.message)+"\n    ")]):t._e(),t._v(" "),t.$root.request?n("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[n("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):t._e(),t._v(" "),n("Formulir",{attrs:{column_content:"col-12"}},[n("FormulirLegend",{attrs:{slot:"legend",title:"Create SPK"},slot:"legend"}),t._v(" "),n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",title:"Nomor",name:"nomor_spk",placeholder:"Nomor"},slot:"input",model:{value:t.get_listSpk,callback:function(e){t.get_listSpk=e},expression:"get_listSpk"}})],1),t._v(" "),n("div",{staticClass:"col"},[n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal",name:"tanggal",value:"",placeholder:"Tanggal"},on:{onPicker:function(e){t.onPicker({key:"tanggal",value:e})}},slot:"input"})],1),t._v(" "),n("div",{staticClass:"col"},[n("FormulirDropdown",{attrs:{slot:"input",title:"Jenis"},slot:"input"},[n("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.jenis,expression:"jenis"}],staticClass:"form-control selectize submit-on-change",attrs:{name:"jenis",id:"jenis"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.jenis=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("- Pilih Jenis -")]),t._v(" "),t._l(t.get_listJenis,function(e,a){return n("option",{key:a,domProps:{value:a}},[t._v("\n                            SPK "+t._s(e)+" ")])})],2)])])],1)])]),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_kegiatan,items:t.items_kegiatan,title:"Kegiatan / Belanja"},on:{onSelectedItem:t.onSelectedItemKegiatan},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[n("b",[t._v(t._s(e.result.parent_nama)+": ")]),t._v(" "),n("br"),t._v("\n                            [ "+t._s(e.result.kode_dpa)+" ]: "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[t._v("\n                    [ "+t._s(e.result.kode_dpa)+" ]: "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_rekening,items:t.items_rekening,title:"Kode Rekening"},on:{onSelectedItem:t.onSelectedItemRekening},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                    [ "+t._s(e.result.kode_rekening)+" ]: "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[t._v("\n                    [ "+t._s(e.result.kode_rekening)+" ]: "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"text",title:"Nama Pekerjaan",name:"nama_pekerjaan",value:"",placeholder:"Nama Pekerjaan"},slot:"input"}),t._v(" "),n("FormulirTextarea",{attrs:{slot:"input",title:"Uraian",name:"uraian",value:"",placeholder:"Uraian"},slot:"input"}),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_kpa,items:t.items_kpa,title:"KPA"},on:{onSelectedItem:t.onSelectedItemKPA},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                "+t._s(e.result.singkatan)+"  ("+t._s(e.result.nama)+")\n            ")]}},{key:"selection",fn:function(e){return[t._v("\n                "+t._s(e.result.singkatan)+"  ("+t._s(e.result.nama)+")\n            ")]}}])}):t._e(),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_pptk,items:t.items_pptk,title:"PPTK"},on:{onSelectedItem:t.onSelectedItemPPTK},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                "+t._s(e.result.singkatan)+"  ("+t._s(e.result.nama)+")\n            ")]}},{key:"selection",fn:function(e){return[t._v("\n                "+t._s(e.result.singkatan)+"  ("+t._s(e.result.nama)+")\n            ")]}}])}):t._e(),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_pimpinan,items:t.items_pimpinan,title:"Pimpinan"},on:{onSelectedItem:t.onSelectedItemPimpinan},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                    "+t._s(e.result.nip)+" - "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[t._v("\n                    "+t._s(e.result.nip)+" - "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_bendahara,items:t.items_bendahara,title:"Bendahara"},on:{onSelectedItem:t.onSelectedItemBendahara},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                    "+t._s(e.result.nip)+" - "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[t._v("\n                    "+t._s(e.result.nip)+" - "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),n("FormulirDropdown",{attrs:{slot:"input",title:"Rekanan"},slot:"input"},[n("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[n("select",{staticClass:"form-control selectize",attrs:{name:"rekanan_id",id:"rekanan_id"}},[n("option",{attrs:{value:""}},[t._v("- Pilih Rekanan -")]),t._v(" "),t._l(t.get_listRekanan,function(e,a){return n("option",{key:a,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.nama_pimpinan)+" ("+t._s(e.nama_perusahaan)+")\n                  ")])})],2)])]),t._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"text",title:"Jabatan Rekanan",name:"rekanan_jabatan",value:"",placeholder:"Jabatan Rekanan"},slot:"input"}),t._v(" "),n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("FormulirInput",{attrs:{slot:"input",type:"number",title:"Pelaksanaan",name:"pelaksanaan_jumlah",value:"",placeholder:"Pelaksanaan"},slot:"input"})],1),t._v(" "),n("div",{staticClass:"col"},[n("FormulirDropdown",{attrs:{slot:"input",title:"Pelaksanaan"},slot:"input"},[n("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[n("select",{staticClass:"form-control selectize",attrs:{name:"pelaksanaan_satuan",id:"pelaksanaan_satuan"}},t._l(t.get_listPelaksanaanSatuan,function(e,a){return n("option",{key:a,domProps:{value:e}},[t._v("\n                          "+t._s(e)+"\n                        ")])}))])])],1)])]),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_lokasi,items:t.items_lokasi,title:"Lokasi Terbit"},on:{onSelectedItem:t.onSelectedItemLokasi},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[n("b",[t._v(t._s(e.result.parent_nama)+": ")]),t._v(" "+t._s(e.result.jenis)+" - "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[n("b",[t._v(t._s(e.result.parent_nama)+": ")]),t._v(" "+t._s(e.result.jenis)+" - "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal Terbit",name:"terbit_tanggal",value:"",placeholder:"Tanggal Terbit"},on:{onPicker:function(e){t.onPicker({key:"terbit_tanggal",value:e})}},slot:"input"}),t._v(" "),n("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(e){t.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}},tTDo:function(t,e,n){var a=n("VU/8")(n("7paH"),n("TgFW"),!1,null,null,null);t.exports=a.exports}});
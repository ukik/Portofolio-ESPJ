webpackJsonp([110],{"/9Of":function(e,t,a){var n=a("VU/8")(a("aecw"),a("eb8G"),!1,null,null,null);e.exports=n.exports},aecw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("NYxO"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default={computed:i({},Object(n.mapGetters)({get_dpa:"getters/lampiran/spk/dpa",get_bendahara:"getters/lampiran/spk/bendahara",get_pimpinan:"getters/lampiran/spk/pimpinan",get_listProgramKegiatan:"getters/lampiran/spk/listProgramKegiatan",get_listKodeRekening:"getters/lampiran/spk/listKodeRekening",get_listJenis:"getters/lampiran/spk/listJenis",get_listRekanan:"getters/lampiran/spk/listRekanan",get_listPelaksanaanSatuan:"getters/lampiran/spk/listPelaksanaanSatuan",get_listSpk:"getters/lampiran/spk/listSpk",get_listLokasi:"getters/lampiran/spk/listLokasi",get_form:"getters/lampiran/spk/form"}),{undefined_bendahara:function(){return function(e){return null==e||void 0==e?"":e.nama}},undefined_pimpinan:function(){return function(e){return null==e||void 0==e?"":e.nama}}}),methods:i({},Object(n.mapActions)({set_edit:"setters/api/lampiran/spk/edit"}),{onInitData:function(){var e=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=this.get_form.id;return new Promise(function(a,n){axios.get("lampiran/spk/"+t+"/edit?kode_dpa="+e.get_form.kode_dpa).then(function(t){if(void 0==t)return a();e.AutocompleteBendahara(t.data.data.bendahara),e.AutocompletePimpinan(t.data.data.pimpinan),e.AutocompleteKegiatan(t.data.data.listProgramKegiatan),e.AutocompleteRekening(t.data.data.listKodeRekening),e.AutocompleteLokasi(t.data.data.listLokasi),e.AutocompleteKPA(t.data.data.listKpa),e.AutocompletePPTK(t.data.data.listPptk),a(e.set_edit(t.data.data))}).catch(function(e){n(e)})})},onRefresh:function(){this.items_kegiatan=[],this.selected_kegiatan=null,this.kode_dpa="",this.items_rekening=[],this.selected_rekening=null,this.kode_rekening="",this.items_lokasi=[],this.selected_lokasi=null,this.terbit_lokasi="",this.items_bendahara=[],this.selected_bendahara=null,this.bendahara_id="",this.items_pimpinan=[],this.selected_pimpinan=null,this.pimpinan_id="",this.onInitData()},onSubmit:function(){this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id,t=document.getElementById("nomor_spk").value,a=this.tanggal,n=document.getElementById("jenis").value,i=this.kode_dpa,s=this.kode_rekening,o=document.getElementById("nama_pekerjaan").value,r=document.getElementById("uraian").value,l=document.getElementById("rekanan_id").value,u=document.getElementById("rekanan_jabatan").value,p=document.getElementById("pelaksanaan_jumlah").value,_=document.getElementById("pelaksanaan_satuan").value,d=this.terbit_lokasi,m=this.terbit_tanggal,c=this.bendahara_id,k=this.pimpinan_id,g=this.kpa_id,f=this.pptk_id,h={id:e,nomor_spk:t,tanggal:a,jenis:n,kode_dpa:i,kode_rekening:s,nama_pekerjaan:o,uraian:r,rekanan_id:l,rekanan_jabatan:u,pelaksanaan_jumlah:p,pelaksanaan_satuan:_,terbit_lokasi:d,terbit_tanggal:m,bendahara_id:c,pimpinan_id:k,kpa_id:g,pptk_id:f};new Promise(function(t,a){axios.put("lampiran/spk/"+e+"/edit",h).then(function(e){t(e)}).catch(function(e){a(e)})})},onPicker:function(e){this[e.key]=e.value},AutocompleteKPA:function(e){var t=this;this.items_kpa=[],this.selected_kpa=null,this.kpa_id="",new Promise(function(a){e.forEach(function(e){var a=e;a.search=e.singkatan+" "+e.nama,t.items_kpa.push(a),e.id==t.get_form.kpa_id&&(t.selected_kpa=e.singkatan+" "+e.nama)}),a()}).then(function(e){t.pageReady=!0,t.kpa_id=t.get_form.kpa_id})},onSelectedItemKPA:function(e){this.kpa_id=e.id},AutocompletePPTK:function(e){var t=this;this.items_pptk=[],this.selected_pptk=null,this.pptk_id="",new Promise(function(a){e.forEach(function(e){var a=e;a.search=e.singkatan+" "+e.nama,t.items_pptk.push(a),e.id==t.get_form.pptk_id&&(t.selected_pptk=e.singkatan+" "+e.nama)}),a()}).then(function(e){t.pageReady=!0,t.pptk_id=t.get_form.pptk_id})},onSelectedItemPPTK:function(e){this.pptk_id=e.id},AutocompleteRekening:function(e){var t=this;new Promise(function(a){e.forEach(function(e){var a=e;a.search=e.kode_rekening+" "+e.nama,t.items_rekening.push(a),e.kode_rekening==t.get_form.kode_rekening&&(t.selected_rekening=e.kode_rekening+" "+e.nama)}),a()}).then(function(e){t.pageReady=!0,t.kode_rekening=t.get_form.kode_rekening})},AutocompleteKegiatan:function(e){var t=this;new Promise(function(a){e.forEach(function(e){e.kegiatan.forEach(function(a){var n=a;n.parent_kode_dpa=e.kode_dpa,n.parent_nama=e.nama,n.search=e.kode_dpa+" "+a.kode_dpa+" "+e.nama+" "+a.nama,t.items_kegiatan.push(n),a.kode_dpa==t.get_form.kode_dpa&&(t.selected_kegiatan=e.kode_dpa+" "+a.kode_dpa+" "+e.nama+" "+a.nama)})}),a()}).then(function(e){t.pageReady=!0,t.kode_dpa=t.get_form.kode_dpa})},onSelectedItemKegiatan:function(e){this.kode_dpa=e.kode_dpa},onSelectedItemRekening:function(e){this.kode_rekening=e.kode_rekening},AutocompleteLokasi:function(e){var t=this;new Promise(function(a){e.forEach(function(e){e.sub.forEach(function(a){var n=a;n.parent_nama=e.nama,n.search=e.jenis+" "+e.nama+" "+a.jenis+" "+a.nama,t.items_lokasi.push(n),a.nama==t.get_form.terbit_lokasi&&(t.selected_lokasi=e.jenis+" "+e.nama+" "+a.jenis+" "+a.nama)})}),a()}).then(function(e){t.pageReady=!0,t.terbit_lokasi=t.get_form.terbit_lokasi})},onSelectedItemLokasi:function(e){this.terbit_lokasi=e.nama},AutocompleteBendahara:function(e){var t=this;new Promise(function(a){e.forEach(function(e){var a=e;a.search=e.nip+" "+e.nama,t.items_bendahara.push(a),e.id==t.get_form.bendahara_id&&(t.selected_bendahara=e.nip+" "+e.nama)}),a()}).then(function(e){t.pageReady=!0,t.bendahara_id=t.get_form.bendahara_id})},onSelectedItemBendahara:function(e){this.bendahara_id=e.id},AutocompletePimpinan:function(e){var t=this;new Promise(function(a){e.forEach(function(e){var a=e;a.search=e.nip+" "+e.nama,t.items_pimpinan.push(a),e.id==t.get_form.pimpinan_id&&(t.selected_pimpinan=e.nip+" "+e.nama)}),a()}).then(function(e){t.pageReady=!0,t.pimpinan_id=t.get_form.pimpinan_id})},onSelectedItemPimpinan:function(e){this.pimpinan_id=e.id}}),mounted:function(){this.onInitData()},data:function(){return{tanggal:null,terbit_tanggal:null,pageReady:!1,items_kegiatan:[],selected_kegiatan:null,kode_dpa:"",items_rekening:[],selected_rekening:null,kode_rekening:"",items_lokasi:[],selected_lokasi:null,terbit_lokasi:"",items_bendahara:[],selected_bendahara:null,bendahara_id:"",items_pimpinan:[],selected_pimpinan:null,pimpinan_id:"",items_pptk:[],selected_pptk:null,pptk_id:"",items_kpa:[],selected_kpa:null,kpa_id:""}}}},eb8G:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Toolbar",{attrs:{slot:"title",judul:"Edit SPK"},slot:"title"},[a("RefreshButton",{on:{onRefresh:function(t){e.onRefresh()}}}),e._v(" "),a("BackButton")],1),e._v(" "),e.$root.error.status?a("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[a("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$root.error.message)+"\n    ")]):e._e(),e._v(" "),e.$root.request?a("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[a("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):e._e(),e._v(" "),a("Formulir",{attrs:{column_content:"col-12"}},[a("FormulirLegend",{attrs:{slot:"legend",title:"Edit SPK"},slot:"legend"}),e._v(" "),a("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",title:"Nomor",name:"nomor_spk",placeholder:"Nomor"},slot:"input",model:{value:e.get_listSpk,callback:function(t){e.get_listSpk=t},expression:"get_listSpk"}})],1),e._v(" "),a("div",{staticClass:"col"},[a("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal",name:"tanggal",value:e.get_form.tanggal,placeholder:"Tanggal"},on:{onPicker:function(t){e.onPicker({key:"tanggal",value:t})}},slot:"input"})],1),e._v(" "),a("div",{staticClass:"col"},[a("FormulirDropdown",{attrs:{slot:"input",title:"Jenis"},slot:"input"},[a("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.get_form.jenis,expression:"get_form.jenis"}],staticClass:"form-control selectize submit-on-change",attrs:{name:"jenis",id:"jenis"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.get_form,"jenis",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("- Pilih Jenis -")]),e._v(" "),e._l(e.get_listJenis,function(t,n){return a("option",{key:n,domProps:{value:n}},[e._v("\n                            SPK "+e._s(t)+" ")])})],2)])])],1)])]),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_kegiatan,items:e.items_kegiatan,title:"Kegiatan / Belanja"},on:{onSelectedItem:e.onSelectedItemKegiatan},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[a("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "),a("br"),e._v("\n                            [ "+e._s(t.result.kode_dpa)+" ]: "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_dpa)+" ]: "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_rekening,items:e.items_rekening,title:"Kode Rekening"},on:{onSelectedItem:e.onSelectedItemRekening},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),a("FormulirInput",{attrs:{slot:"input",type:"text",title:"Nama Pekerjaan",name:"nama_pekerjaan",placeholder:"Nama Pekerjaan"},slot:"input",model:{value:e.get_form.nama_pekerjaan,callback:function(t){e.$set(e.get_form,"nama_pekerjaan",t)},expression:"get_form.nama_pekerjaan"}}),e._v(" "),a("FormulirTextarea",{attrs:{slot:"input",title:"Uraian",name:"uraian",value:e.get_form.uraian,placeholder:"Uraian"},slot:"input"}),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_kpa,items:e.items_kpa,title:"KPA"},on:{onSelectedItem:e.onSelectedItemKPA},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}},{key:"selection",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}}])}):e._e(),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_pptk,items:e.items_pptk,title:"PPTK"},on:{onSelectedItem:e.onSelectedItemPPTK},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}},{key:"selection",fn:function(t){return[e._v("\n                "+e._s(t.result.singkatan)+"  ("+e._s(t.result.nama)+")\n            ")]}}])}):e._e(),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_pimpinan,items:e.items_pimpinan,title:"Pimpinan"},on:{onSelectedItem:e.onSelectedItemPimpinan},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_bendahara,items:e.items_bendahara,title:"Bendahara"},on:{onSelectedItem:e.onSelectedItemBendahara},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    "+e._s(t.result.nip)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),a("FormulirDropdown",{attrs:{slot:"input",title:"Rekanan"},slot:"input"},[a("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.get_form.rekanan_id,expression:"get_form.rekanan_id"}],staticClass:"form-control selectize",attrs:{name:"rekanan_id",id:"rekanan_id"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.get_form,"rekanan_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("- Pilih Rekanan -")]),e._v(" "),e._l(e.get_listRekanan,function(t,n){return a("option",{key:n,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.nama_pimpinan)+" ("+e._s(t.nama_perusahaan)+")\n                  ")])})],2)])]),e._v(" "),a("FormulirInput",{attrs:{slot:"input",type:"text",title:"Jabatan Rekanan",name:"rekanan_jabatan",placeholder:"Jabatan Rekanan"},slot:"input",model:{value:e.get_form.rekanan_jabatan,callback:function(t){e.$set(e.get_form,"rekanan_jabatan",t)},expression:"get_form.rekanan_jabatan"}}),e._v(" "),a("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("FormulirInput",{attrs:{slot:"input",type:"number",title:"Pelaksanaan",name:"pelaksanaan_jumlah",placeholder:"Pelaksanaan"},slot:"input",model:{value:e.get_form.pelaksanaan_jumlah,callback:function(t){e.$set(e.get_form,"pelaksanaan_jumlah",t)},expression:"get_form.pelaksanaan_jumlah"}})],1),e._v(" "),a("div",{staticClass:"col"},[a("FormulirDropdown",{attrs:{slot:"input",title:"Pelaksanaan"},slot:"input"},[a("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.get_form.pelaksanaan_satuan,expression:"get_form.pelaksanaan_satuan"}],staticClass:"form-control selectize",attrs:{name:"pelaksanaan_satuan",id:"pelaksanaan_satuan"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.get_form,"pelaksanaan_satuan",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("- Pilih Pelaksanaan -")]),e._v(" "),e._l(e.get_listPelaksanaanSatuan,function(t,n){return a("option",{key:n,domProps:{value:t}},[e._v("\n                          "+e._s(t)+"\n                        ")])})],2)])])],1)])]),e._v(" "),e.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:e.selected_lokasi,items:e.items_lokasi,title:"Lokasi Terbit"},on:{onSelectedItem:e.onSelectedItemLokasi},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[a("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[a("b",[e._v(e._s(t.result.parent_nama)+": ")]),e._v(" "+e._s(t.result.jenis)+" - "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),a("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal Terbit",name:"terbit_tanggal",value:e.get_form.tanggal,placeholder:"Tanggal Terbit"},on:{onPicker:function(t){e.onPicker({key:"terbit_tanggal",value:t})}},slot:"input"}),e._v(" "),a("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(t){e.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}}});
webpackJsonp([91],{"EC+6":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toolbar",{attrs:{slot:"title",judul:"Edit User"},slot:"title"},[a("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),a("BackButton")],1),t._v(" "),t.$root.error.status?a("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[a("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$root.error.message)+"\n    ")]):t._e(),t._v(" "),t.$root.request?a("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[a("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):t._e(),t._v(" "),a("Formulir",[a("FormulirLegend",{attrs:{slot:"legend",title:"Edit User"},slot:"legend"}),t._v(" "),a("FormulirInput",{attrs:{slot:"input",title:"Nama",name:"nama",placeholder:"Nama"},slot:"input",model:{value:t.get_form.nama,callback:function(e){t.$set(t.get_form,"nama",e)},expression:"get_form.nama"}}),t._v(" "),a("FormulirInput",{attrs:{slot:"input",title:"Username",name:"username",placeholder:"Username"},slot:"input",model:{value:t.get_form.username,callback:function(e){t.$set(t.get_form,"username",e)},expression:"get_form.username"}}),t._v(" "),a("FormulirDropdown",{attrs:{slot:"input",title:"Level"},slot:"input"},[a("div",{staticClass:"input-group",attrs:{slot:"default"},slot:"default"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.get_form.level,expression:"get_form.level"}],staticClass:"form-control custom-select submit-on-change",attrs:{name:"level",id:"level"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.get_form,"level",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("- Pilih Level -")]),t._v(" "),t._l(t.level,function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v("\n                        "+t._s(e))])})],2)])]),t._v(" "),t.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:t.selected_pegawai,items:t.items_pegawai,title:"Pegawai"},on:{onSelectedItem:t.onSelectedItemPegawai},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                "+t._s(e.result.nama)+" - "+t._s(e.result.nip)+"\n            ")]}},{key:"selection",fn:function(e){return[t._v("\n                "+t._s(e.result.nama)+" - "+t._s(e.result.nip)+"\n            ")]}}])}):t._e(),t._v(" "),t.pageReady?a("Autocomplete",{attrs:{slot:"input",selected:t.selected_bidang,items:t.items_bidang,title:"Bidang"},on:{onSelectedItem:t.onSelectedItemBidang},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[a("b",[t._v(t._s(e.result.kode_surat)+":")]),t._v(" "+t._s(e.result.parent_nama)+" - "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[a("b",[t._v(t._s(e.result.kode_surat)+":")]),t._v(" "+t._s(e.result.parent_nama)+" - "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),a("FormulirInput",{attrs:{slot:"input",title:"Password Lama",name:"password_lama",type:"password",value:"",placeholder:"Password Lama"},slot:"input"}),t._v(" "),a("FormulirInput",{attrs:{slot:"input",title:"Password Baru",name:"password",type:"password",value:"",placeholder:"Password Baru"},slot:"input"}),t._v(" "),a("FormulirInput",{attrs:{slot:"input",title:"Konfirmasi Password",name:"password_confirmation",type:"password",value:"",placeholder:"Konfirmasi Password"},slot:"input"}),t._v(" "),a("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(e){t.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}},IrKl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("NYxO"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={computed:s({},Object(n.mapGetters)({get_listPegawai:"getters/pengaturan/user/listPegawai",get_listBidang:"getters/pengaturan/user/listBidang",get_form:"getters/pengaturan/user/form"})),methods:s({},Object(n.mapActions)({set_listPegawai:"setters/api/pengaturan/user/listPegawai"}),{onInitData:function(){var t=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id;return new Promise(function(a,n){axios.get("pengaturan/user/"+e+"/edit").then(function(e){if(void 0==e)return a();t.AutocompletePegawai(e.data.data.listPegawai),t.AutocompleteBidang(e.data.data.listBidang),a(t.set_listPegawai(e.data.data))}).catch(function(t){n(t)})})},onRefresh:function(){this.items_pegawai=[],this.selected_pegawai=null,this.pegawai_id="",this.items_bidang=[],this.selected_bidang=null,this.bidang_id="",this.onInitData()},onSubmit:function(){var t=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id,a=document.getElementById("nama").value,n=document.getElementById("username").value,s=document.getElementById("level").value,i=this.pegawai_id,r=this.bidang_id,o=document.getElementById("password_lama").value,l=document.getElementById("password").value,u=document.getElementById("password_confirmation").value,d={id:e,nama:a,username:n,level:s,bidang_id:r,pegawai_id:i,password_lama:o,password:l,password_confirmation:u};if(""!=l){if(l!=u)return this.onWarningSnotify({message:"Data password dan data konfirmasi harus sama",title:"Peringatan"}),this.$root.error.status=!0,void(this.$root.error.message="Data password dan data konfirmasi harus sama");if(""==o)return this.onWarningSnotify({message:"Jika ingin memberpaharui password, wajib mengisi password lama",title:"Peringatan"}),this.$root.error.status=!0,void(this.$root.error.message="Jika ingin memberpaharui password, wajib mengisi password lama")}if(""!=u){if(l!=u)return this.onWarningSnotify({message:"Data password dan data konfirmasi harus sama",title:"Peringatan"}),this.$root.error.status=!0,void(this.$root.error.message="Data password dan data konfirmasi harus sama");if(""==o)return this.onWarningSnotify({message:"Jika ingin memberpaharui password, wajib mengisi password lama",title:"Peringatan"}),this.$root.error.status=!0,void(this.$root.error.message="Jika ingin memberpaharui password, wajib mengisi password lama")}new Promise(function(a,n){axios.put("pengaturan/user/"+e,d).then(function(e){t.$store.dispatch("setters/api/login",e.data),a(e)}).catch(function(t){n(t)})})},AutocompletePegawai:function(t){var e=this;new Promise(function(a){t.forEach(function(t){var a=t;a.search=t.nama+" "+t.nip,e.items_pegawai.push(a),t.id==e.get_form.pegawai_id&&(e.selected_pegawai=t.nama+" "+t.nip)}),a()}).then(function(t){e.pageReady=!0,e.pegawai_id=e.get_form.pegawai_id})},onSelectedItemPegawai:function(t){this.pegawai_id=t.id},AutocompleteBidang:function(t){var e=this;new Promise(function(a){t.forEach(function(t){t.sub.forEach(function(a){var n=a;n.parent_nama=t.nama,n.search=t.nama+" "+a.nama,e.items_bidang.push(n),a.id==e.get_form.bidang_id&&(e.selected_bidang=t.nama+" "+a.nama)})}),a()}).then(function(t){e.pageReady=!0,e.bidang_id=e.get_form.bidang_id})},onSelectedItemBidang:function(t){this.bidang_id=t.id}}),mounted:function(){this.onInitData()},data:function(){return{pageReady:!1,items_pegawai:[],selected_pegawai:null,pegawai_id:"",items_bidang:[],selected_bidang:null,bidang_id:"",level:["Super Admin","Penghubung","Supervisor","Verifikator"]}}}},e1xv:function(t,e,a){var n=a("VU/8")(a("IrKl"),a("EC+6"),!1,null,null,null);t.exports=n.exports}});
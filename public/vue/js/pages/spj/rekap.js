webpackJsonp([77],{CpXN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("NYxO"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default={computed:r({},Object(i.mapGetters)({get_rekap:"getters/spj/rekap",get_form:"getters/spj/form"}),{items_length:function(){return void 0==this.get_rekap?0:this.get_rekap.length},total_nominal:function(){var t=0;return this.get_rekap.forEach(function(e){t+=Number(e.nominal)}),t},undefined_checker:function(){return function(t){return void 0==t?"":t.nomor_permohonan}}}),methods:r({},Object(i.mapActions)({set_rekap:"setters/api/spj/rekap",set_form:"setters/non-api/spj/rekap/form",set_splice:"setters/non-api/spj/rekap/splice"}),{onInitData:function(){var t=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id;return new Promise(function(a,i){axios.get("spj/"+e+"/rekap").then(function(e){if(void 0==e)return a();a(t.set_rekap(e.data.data.spj.rekap))}).catch(function(t){i(t)})})},onRefresh:function(){this.onInitData()},onDelete:function(t){this.onDeleteConfirmation({url:"spj/"+this.get_form.id+"/rekap/"+t.id,id:t.id,bundle:t})}}),mounted:function(){this.onInitData()},data:function(){return{judul:"Daftar Rekap Pengeluaran SPJ",user:this.$root.level,theads:[{title:"No",width:"30"},{title:"Kode Rincian",width:""},{title:"Penerima",width:""},{title:"Uraian",width:""},{title:"Tanggal",width:""},{title:"Jumlah",width:""},{title:"Aksi",width:"100"}]}}}},GVLj:function(t,e,a){var i=a("VU/8")(a("CpXN"),a("Teoe"),!1,null,null,null);t.exports=i.exports},Teoe:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Toolbar",{attrs:{slot:"toolbar",judul:t.judul},slot:"toolbar"},[a("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),a("AddButton",{staticClass:"mr-2",attrs:{route:"spj-rekap-create",name:"Rincian"}}),t._v(" "),a("BackButton")],1),t._v(" "),t.$root.error.status?a("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[a("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$root.error.message)+"\n    ")]):t._e(),t._v(" "),t.$root.request?a("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[a("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):t._e(),t._v(" "),a("TableView",{attrs:{items:t.get_rekap,theads:t.theads},scopedSlots:t._u([{key:"default",fn:function(e){return[a("tr",[a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.index+1))]),t._v(" "),a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.item.kode_dpa)+"."+t._s(e.item.kode_rekening))]),t._v(" "),a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.item.penerima))]),t._v(" "),a("td",{staticClass:"align-middle"},[t._v(t._s(e.item.uraian))]),t._v(" "),a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.item.tanggal))]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("rupiah2")(e.item.nominal)))]),t._v(" "),a("td",{staticClass:"text-center"},["Supervisor"!=t.user?a("a",{staticClass:"icon",on:{click:function(a){t.set_form({id:e.item.id}),t.jump({name:"spj-rekap-edit"})}}},[a("i",{staticClass:"fe fe-edit"})]):t._e(),t._v(" "),"Supervisor"!=t.user?a("a",{staticClass:"icon",on:{click:function(a){t.onDelete({id:e.item.id})}}},[a("i",{staticClass:"fe fe-trash-2 text-danger"})]):t._e()])])]}}])},[a("div",{attrs:{slot:"pre-information"},slot:"pre-information"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-sm table-outline table-vcenter text-nowrap card-table"},[a("tr",[a("th",{attrs:{width:"200"}},[t._v("Tanggal")]),t._v(" "),a("td",{attrs:{width:"10"}},[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t.get_form.tanggal?t.get_form.tanggal:"[Belum diajukan]"))])]),t._v(" "),a("tr",[a("th",[t._v("Nomor Permohonan")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t.undefined_checker(t.get_form.permohonan)))])]),t._v(" "),a("tr",[a("th",[t._v("Kegiatan")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v("["+t._s(t.get_form.kode_dpa)+"] "+t._s(t.get_form.kegiatan))])]),t._v(" "),a("tr",[a("th",[t._v("Diajukan")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_diajukan)))])]),t._v(" "),a("tr",[a("th",[t._v("Disetujui")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_disetujui)))])]),t._v(" "),a("tr",[a("th",[t._v("Nominal SPJ")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_spj)))])]),t._v(" "),a("tr",[a("th",[t._v("Sisa SPJ")]),t._v(" "),a("td",[t._v(":")]),t._v(" "),a("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_sisa)))])])])])])])])]),t._v(" "),a("tr",{staticClass:"bg-gray",attrs:{slot:"tfoot"},slot:"tfoot"},[a("th",{staticClass:"text-right text-white",attrs:{colspan:"5"}},[t._v("Jumlah")]),t._v(" "),a("th",{staticClass:"text-right text-white"},[t._v(t._s(t._f("rupiah2")(t.total_nominal)))]),t._v(" "),a("th")])]),t._v(" "),a("p")],1)},staticRenderFns:[]}}});
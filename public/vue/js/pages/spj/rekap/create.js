webpackJsonp([76],{MREX:function(t,e,n){var a=n("VU/8")(n("qaCz"),n("YwKw"),!1,null,null,null);t.exports=a.exports},YwKw:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Toolbar",{attrs:{slot:"title",judul:"Tambah Rincian Rekap Pengeluaran SPJ"},slot:"title"},[n("RefreshButton",{on:{onRefresh:function(e){t.onRefresh()}}}),t._v(" "),n("BackButton")],1),t._v(" "),t.$root.error.status?n("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[n("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$root.error.message)+"\n    ")]):t._e(),t._v(" "),t.$root.request?n("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[n("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):t._e(),t._v(" "),n("div",{attrs:{slot:"pre-information"},slot:"pre-information"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"card"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-hover table-sm table-outline table-vcenter text-nowrap card-table"},[n("tr",[n("th",{attrs:{width:"200"}},[t._v("Tanggal")]),t._v(" "),n("td",{attrs:{width:"10"}},[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t.get_form.tanggal?t.get_form.tanggal:"[Belum diajukan]"))])]),t._v(" "),n("tr",[n("th",[t._v("Nomor Permohonan")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t.get_form.permohonan.nomor_permohonan))])]),t._v(" "),n("tr",[n("th",[t._v("Kegiatan")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v("["+t._s(t.get_form.kode_dpa)+"] "+t._s(t.get_form.kegiatan))])]),t._v(" "),n("tr",[n("th",[t._v("Diajukan")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_diajukan)))])]),t._v(" "),n("tr",[n("th",[t._v("Disetujui")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_disetujui)))])]),t._v(" "),n("tr",[n("th",[t._v("Nominal SPJ")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_spj)))])]),t._v(" "),n("tr",[n("th",[t._v("Sisa SPJ")]),t._v(" "),n("td",[t._v(":")]),t._v(" "),n("td",[t._v(t._s(t._f("rupiah2")(t.get_form.nominal_sisa)))])])])])])])])]),t._v(" "),n("Formulir",{attrs:{column_content:"col-12"}},[n("FormulirLegend",{attrs:{slot:"legend",title:"Edit Berkas"},slot:"legend"}),t._v(" "),n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal",name:"bukti_tanggal",value:"",placeholder:"Tanggal"},on:{onPicker:t.onPicker},slot:"input"}),t._v(" "),t.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:t.selected_rekening,items:t.items_rekening,title:"Kode Rincian (Rekening)"},on:{onSelectedItem:t.onSelectedItemRekening},slot:"input",scopedSlots:t._u([{key:"item",fn:function(e){return[t._v("\n                    [ "+t._s(e.result.kode_rekening)+" ]: "+t._s(e.result.nama)+"\n                ")]}},{key:"selection",fn:function(e){return[t._v("\n                    [ "+t._s(e.result.kode_rekening)+" ]: "+t._s(e.result.nama)+"\n                ")]}}])}):t._e(),t._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"text",name:"penerima",value:"",placeholder:"Penerima",title:"Penerima"},slot:"input"}),t._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:t._f("rupiah2")(0),placeholder:"Nominal Disetujui (Rp)",title:"Nominal Disetujui (Rp)"},slot:"input"}),t._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:t._f("rupiah2")(0),placeholder:"Nominal Rincian Sebelumnya (Rp)",title:"Nominal Rincian Sebelumnya (Rp)"},slot:"input"}),t._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:t._f("rupiah2")(0),placeholder:"Nominal Sisa (Rp)",title:"Nominal Sisa (Rp)"},slot:"input"}),t._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"number",name:"nominal",value:"0",placeholder:"Nominal (Rp)",title:"Nominal (Rp)"},slot:"input"}),t._v(" "),n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"form-label"},[t._v("Pajak")]),t._v(" "),n("div",{staticClass:"custom-controls-stacked"},[n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"ppn",id:"ppn"},domProps:{value:t.valued("ppn")}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v("PPN")])]),t._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph21",id:"pph21"},domProps:{value:t.valued("pph21")}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v("PPh21")])]),t._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph22",id:"pph22"},domProps:{value:t.valued("pph22")}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v("PPh22")])]),t._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph23",id:"pph23"},domProps:{value:t.valued("pph23")}}),t._v(" "),n("span",{staticClass:"custom-control-label"},[t._v("PPh23")])])])]),t._v(" "),n("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(e){t.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}},qaCz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("NYxO"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default={computed:o({},Object(a.mapGetters)({get_listKodeRekening:"getters/spj/rekap/listKodeRekening",get_pajak:"getters/spj/rekap/pajak",get_form:"getters/spj/form"}),{valued:function(){var t=this;return function(e){var n=t.get_form.tahun+".pajak."+e;return t.get_pajak[n]}}}),methods:o({},Object(a.mapActions)({set_edit:"setters/api/spj/rekap/edit"}),{onInitData:function(){var t=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var e=this.get_form.id;return new Promise(function(n,a){axios.get("spj/"+e+"/rekap/create").then(function(e){if(void 0==e)return n();t.AutocompleteRekening(e.data.data.listKodeRekening),n(t.set_edit(e.data.data))}).catch(function(t){a(t)})})},onRefresh:function(){this.items_rekening=[],this.selected_rekening=null,this.kode_rekening="",this.onInitData()},onSubmit:function(){this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=this.get_form.id,e=this.bukti_tanggal,n=document.getElementById("penerima").value,a=document.getElementById("nominal").value,o=document.getElementById("ppn"),i=document.getElementById("pph21"),r=document.getElementById("pph22"),s=document.getElementById("pph23"),l=0,u=0,c=0,p=0;o.checked&&(l=o.value),i.checked&&(u=i.value),r.checked&&(c=r.value),s.checked&&(p=s.value);var _=this.kode_rekening,m=this.get_form.kode_dpa,d=this.get_form.permohonan_id,v=this.get_form.permohonan_id,h=this.uraian,g={id:t,tanggal:e,permohonan_id:d,permohonan_detail_id:v,penerima:n,nominal:a,kode_dpa:m,kode_rekening:_,uraian:h,ppn:l,pph21:u,pph22:c,pph23:p};new Promise(function(e,n){axios.post("spj/"+t+"/rekap",g).then(function(t){e(t)}).catch(function(t){n(t)})})},onPicker:function(t){this.bukti_tanggal=t},AutocompleteRekening:function(t){var e=this;new Promise(function(n){t.forEach(function(t){var n=t;n.search=t.kode_rekening+" "+t.nama,e.items_rekening.push(n)}),n()}).then(function(t){e.pageReady=!0})},onSelectedItemRekening:function(t){this.kode_rekening=t.kode_rekening,this.uraian=t.nama}}),mounted:function(){this.onInitData(),this.year=this.get_form.tahun,this.bukti_tanggal=this.year+"-"+this.month+"-"+this.day},data:function(){var t=(new Date).getMonth().toString();t.length<=1&&(t="0"+t);var e=(new Date).getDay().toString();return e.length<=1&&(e="0"+e),{pageReady:!1,items_rekening:[],selected_rekening:null,kode_rekening:"",uraian:"",year:(new Date).getFullYear(),month:t,day:e,bukti_tanggal:null}}}}});
webpackJsonp([75],{SQV1:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Toolbar",{attrs:{slot:"title",judul:"Edit Rincian Rekap Pengeluaran SPJ"},slot:"title"},[n("RefreshButton",{on:{onRefresh:function(t){e.onRefresh()}}}),e._v(" "),n("BackButton")],1),e._v(" "),e.$root.error.status?n("div",{staticClass:"alert alert-icon alert-danger",attrs:{role:"alert"}},[n("i",{staticClass:"fe fe-info mr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$root.error.message)+"\n    ")]):e._e(),e._v(" "),e.$root.request?n("div",{staticClass:"alert bg-primary alert-success text-center",attrs:{role:"alert"}},[n("loader-spinner",{tag:"components",staticStyle:{zoom:"0.75"}})],1):e._e(),e._v(" "),n("div",{attrs:{slot:"pre-information"},slot:"pre-information"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"card"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-hover table-sm table-outline table-vcenter text-nowrap card-table"},[n("tr",[n("th",{attrs:{width:"200"}},[e._v("Tanggal")]),e._v(" "),n("td",{attrs:{width:"10"}},[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.get_form.tanggal?e.get_form.tanggal:"[Belum diajukan]"))])]),e._v(" "),n("tr",[n("th",[e._v("Nomor Permohonan")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e.get_form.permohonan.nomor_permohonan))])]),e._v(" "),n("tr",[n("th",[e._v("Kegiatan")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v("["+e._s(e.get_form.kode_dpa)+"] "+e._s(e.get_form.kegiatan))])]),e._v(" "),n("tr",[n("th",[e._v("Diajukan")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e._f("rupiah2")(e.get_form.nominal_diajukan)))])]),e._v(" "),n("tr",[n("th",[e._v("Disetujui")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e._f("rupiah2")(e.get_form.nominal_disetujui)))])]),e._v(" "),n("tr",[n("th",[e._v("Nominal SPJ")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e._f("rupiah2")(e.get_form.nominal_spj)))])]),e._v(" "),n("tr",[n("th",[e._v("Sisa SPJ")]),e._v(" "),n("td",[e._v(":")]),e._v(" "),n("td",[e._v(e._s(e._f("rupiah2")(e.get_form.nominal_sisa)))])])])])])])])]),e._v(" "),n("Formulir",{attrs:{column_content:"col-12"}},[n("FormulirLegend",{attrs:{slot:"legend",title:"Edit Berkas"},slot:"legend"}),e._v(" "),e.pageReady?n("FormulirPicker",{attrs:{slot:"input",type:"date",title:"Tanggal",name:"bukti_tanggal",value:e.bukti_tanggal,placeholder:"Tanggal"},on:{onPicker:e.onPicker},slot:"input"}):e._e(),e._v(" "),e.pageReady?n("Autocomplete",{attrs:{slot:"input",selected:e.selected_rekening,items:e.items_rekening,title:"Kode Rincian (Rekening)"},on:{onSelectedItem:e.onSelectedItemRekening},slot:"input",scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}},{key:"selection",fn:function(t){return[e._v("\n                    [ "+e._s(t.result.kode_rekening)+" ]: "+e._s(t.result.nama)+"\n                ")]}}])}):e._e(),e._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"text",name:"penerima",placeholder:"Penerima",title:"Penerima"},slot:"input",model:{value:e.get_form_2.penerima,callback:function(t){e.$set(e.get_form_2,"penerima",t)},expression:"get_form_2.penerima"}}),e._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:e._f("rupiah2")(e.get_form.permohonan.nominal_disetujui),placeholder:"Nominal Disetujui (Rp)",title:"Nominal Disetujui (Rp)"},slot:"input"}),e._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:e._f("rupiah2")(e.get_form.permohonan.nominal_diajukan),placeholder:"Nominal Rincian Sebelumnya (Rp)",title:"Nominal Rincian Sebelumnya (Rp)"},slot:"input"}),e._v(" "),n("FormulirInput",{attrs:{slot:"input",readonly:"true",type:"text",name:"",value:e._f("rupiah2")(e.get_form.permohonan.nominal_diajukan-e.get_form.permohonan.nominal_disetujui),placeholder:"Nominal Sisa (Rp)",title:"Nominal Sisa (Rp)"},slot:"input"}),e._v(" "),n("FormulirInput",{attrs:{slot:"input",type:"number",name:"nominal",value:e.get_form_2.nominal,placeholder:"Nominal (Rp)",title:"Nominal (Rp)"},slot:"input"}),e._v(" "),e.pageReady&&!e.pageUpdate?n("div",{staticClass:"form-group",attrs:{slot:"input"},slot:"input"},[n("div",{staticClass:"form-label"},[e._v("Pajak")]),e._v(" "),n("div",{staticClass:"custom-controls-stacked"},[n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{directives:[{name:"checked",rawName:"v-checked",value:e.$store.state.spj_rekap.form.ppn_persen>0,expression:"$store.state.spj_rekap.form.ppn_persen > 0"}],ref:"ppn",staticClass:"custom-control-input",attrs:{type:"checkbox",name:"ppn",id:"ppn"},domProps:{value:e.valued("ppn")}}),e._v(" "),n("span",{staticClass:"custom-control-label"},[e._v("PPN")])]),e._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{directives:[{name:"checked",rawName:"v-checked",value:e.$store.state.spj_rekap.form.pph_21_persen>0,expression:"$store.state.spj_rekap.form.pph_21_persen > 0"}],ref:"pph21",staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph21",id:"pph21"},domProps:{value:e.valued("pph21")}}),e._v(" "),n("span",{staticClass:"custom-control-label"},[e._v("PPh21")])]),e._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{directives:[{name:"checked",rawName:"v-checked",value:e.$store.state.spj_rekap.form.pph_22_persen>0,expression:"$store.state.spj_rekap.form.pph_22_persen > 0"}],ref:"pph22",staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph22",id:"pph22"},domProps:{value:e.valued("pph22")}}),e._v(" "),n("span",{staticClass:"custom-control-label"},[e._v("PPh22")])]),e._v(" "),n("label",{staticClass:"custom-control custom-checkbox custom-control-inline"},[n("input",{directives:[{name:"checked",rawName:"v-checked",value:e.$store.state.spj_rekap.form.pph_23_persen>0,expression:"$store.state.spj_rekap.form.pph_23_persen > 0"}],ref:"pph23",staticClass:"custom-control-input",attrs:{type:"checkbox",name:"pph23",id:"pph23"},domProps:{value:e.valued("pph23")}}),e._v(" "),n("span",{staticClass:"custom-control-label"},[e._v("PPh23")])])])]):e._e(),e._v(" "),n("FormulirButton",{attrs:{slot:"button"},on:{onSubmit:function(t){e.onSubmit()}},slot:"button"})],1)],1)},staticRenderFns:[]}},YkrK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("NYxO"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default={computed:o({},Object(a.mapGetters)({get_listKodeRekening:"getters/spj/rekap/listKodeRekening",get_pajak:"getters/spj/rekap/pajak",get_form:"getters/spj/form",get_form_2:"getters/spj/rekap/form"}),{valued:function(){var e=this;return function(t){var n=e.get_form.tahun+".pajak."+t;return e.get_pajak[n]}}}),methods:o({},Object(a.mapActions)({set_edit:"setters/api/spj/rekap/edit"}),{onInitData:function(){var e=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0;var t=this.get_form.id,n=this.get_form_2.id;return new Promise(function(a,o){axios.get("spj/"+t+"/rekap/"+n+"/edit").then(function(t){if(void 0==t)return a();e.AutocompleteRekening(t.data.data.listKodeRekening),e.pageReady=!0,a(e.set_edit(t.data.data))}).catch(function(e){o(e)})})},onRefresh:function(){this.items_rekening=[],this.selected_rekening=null,this.kode_rekening="",this.onInitData()},onSubmit:function(){var e=this;this.$root.error.status=!1,this.$root.error.message="",this.$root.request=!0,this.pageUpdate=!0;var t=this.get_form.id,n=this.get_form_2.id,a=this.bukti_tanggal,o=document.getElementById("penerima").value,r=document.getElementById("nominal").value,i=document.getElementById("ppn"),s=document.getElementById("pph21"),l=document.getElementById("pph22"),p=document.getElementById("pph23"),_=0,u=0,c=0,m=0;i.checked&&(_=i.value),s.checked&&(u=s.value),l.checked&&(c=l.value),p.checked&&(m=p.value);var d=this.kode_rekening,v=this.get_form.kode_dpa,g=this.get_form.permohonan_id,h=this.get_form.permohonan_id,k=this.uraian,f={id:t,tanggal:a,permohonan_id:g,permohonan_detail_id:h,penerima:o,nominal:r,kode_dpa:v,kode_rekening:d,uraian:k,ppn:_,pph21:u,pph22:c,pph23:m};new Promise(function(a,o){axios.put("spj/"+t+"/rekap/"+n,f).then(function(t){e.pageUpdate=!1,a(t)}).catch(function(t){e.pageUpdate=!1,o(t)})})},onPicker:function(e){this.bukti_tanggal=e},AutocompleteRekening:function(e){var t=this;new Promise(function(n){e.forEach(function(e){var n=e;n.search=e.kode_rekening+" "+e.nama,t.items_rekening.push(n),e.kode_rekening==t.get_form_2.kode_rekening&&(t.selected_rekening=e.kode_rekening+" "+e.nama)}),n()}).then(function(e){t.pageReady=!0,t.kode_rekening=t.get_form_2.kode_rekening})},onSelectedItemRekening:function(e){this.kode_rekening=e.kode_rekening,this.uraian=e.nama}}),mounted:function(){var e=this;this.onInitData(),this.year=this.get_form.tahun,this.$nextTick(function(){e.bukti_tanggal=e.get_form_2.tanggal,e.uraian=e.get_form_2.uraian,e.kode_dpa=e.get_form_2.kode_dpa})},data:function(){var e=(new Date).getMonth().toString();e.length<=1&&(e="0"+e);var t=(new Date).getDay().toString();return t.length<=1&&(t="0"+t),{pageReady:!1,pageUpdate:!1,items_rekening:[],selected_rekening:null,kode_rekening:"",uraian:"",year:(new Date).getFullYear(),month:e,day:t,bukti_tanggal:null}}}},gfaQ:function(e,t,n){var a=n("VU/8")(n("YkrK"),n("SQV1"),!1,null,null,null);e.exports=a.exports}});
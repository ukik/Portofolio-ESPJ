!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}({1:function(e,t,n){e.exports=n("X5sP")},JpKE:function(e,t,n){"use strict";!function(){function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,o){var r,i=new Promise(function(i,c){t(r=e[n].apply(e,o)).then(i,c)});return i.request=r,i}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function r(e,t,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return n(this[t],r,arguments)})})}function i(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function c(e,t,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return e=this[t],(o=n(e,r,arguments)).then(function(e){if(e)return new a(e,o.request)});var e,o})})}function s(e){this._index=e}function a(e,t){this._cursor=e,this._request=t}function u(e){this._store=e}function l(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new l(n)}function f(e){this._db=e}o(s,"_index",["name","keyPath","multiEntry","unique"]),r(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(a,"_cursor",["direction","key","primaryKey","value"]),r(a,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(a.prototype[e]=function(){var n=this,o=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,o),t(n._request).then(function(e){if(e)return new a(e,n._request)})})})}),u.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},u.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},o(u,"_store",["name","keyPath","indexNames","autoIncrement"]),r(u,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(u,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),i(u,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new u(this._tx.objectStore.apply(this._tx,arguments))},o(l,"_tx",["objectStoreNames","mode"]),i(l,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new u(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),i(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),i(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[u,s].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}})})}),[s,u].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)})})})});var d={open:function(e,t,o){var r=n(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(e){o&&o(new p(i.result,e.oldVersion,i.transaction))}),r.then(function(e){return new f(e)})},delete:function(e){return n(indexedDB,"deleteDatabase",[e])}};e.exports=d,e.exports.default=e.exports}()},X5sP:function(e,t,n){var o=n("JpKE");console.log("SW");o.open("db-espj",1,function(e){e.objectStoreNames.contains("store-espj")||e.createObjectStore("store-espj",{keyPath:"id"}),e.objectStoreNames.contains("sync-espj")||e.createObjectStore("sync-espj",{keyPath:"id"})});self.addEventListener("install",function(e){console.log("[Service Worker] Installing Service Worker...",e),self.skipWaiting(),e.waitUntil(caches.open("espj-static-v100").then(function(e){console.log("[Service Worker] Precaching App Shell"),e.add("fonts/vendor/tabler-ui/src/feather/feather-webfont.ttf?b8e9cbc7ac23b572497cd2115bcf71c6"),e.add("pwa/libs/indexedDB.js"),e.add("vue/css/app.css"),e.add("vue/css/index.css"),e.add("vue/js/app.js"),e.add("vue/assets/404.svg"),e.add("vue/js/pages/404.js")}))}),self.addEventListener("activate",function(e){return console.log("[Service Worker] Activating Service Worker...",e),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if("espj-static-v100"!==e&&"espj-dynamic-v100"!==e)return console.log("[Service Worker] Removing old cache.",e),caches.delete(e)}))})),self.clients.claim()}),self.addEventListener("fetch",function(e){e.respondWith(caches.match(e.request).then(function(t){return t||fetch(e.request).then(function(t){return caches.open("espj-dynamic-v100").then(function(n){return n.put(e.request.url,t.clone()),t})}).catch(function(t){return console.log(t),caches.open("espj-static-v100").then(function(t){return e.request.url.indexOf("/spa")?(console.log("spa"),t.match("/404")):e.request.headers.get("accept").includes("text/html")?(console.log("accept"),t.match("/404")):void 0})})}))}),self.addEventListener("notificationclick",function(e){var t=e.notification,n=e.action;console.log(t),"confirm"===n?(console.log("Confirm was choosen"),t.close()):(console.log(n),e.waitUntil(clients.matchAll().then(function(e){var n=e.find(function(e){return"visible"===e.visibilityState});void 0!==n?(n.navigate(t.data.url),n.focus()):clients.openWindow(t.data.url),t.close()})))}),self.addEventListener("notificationclose",function(e){console.log("Notification was closed",e)}),self.addEventListener("push",function(e){console.log("Push Notification received",e);var t={title:"New!",content:"Something new happened!",openUrl:"/"};e.data&&(t=JSON.parse(e.data.text()));var n={body:t.content,icon:"/pwa/icons/app-icon-96x96.png",badge:"/pwa/icons/app-icon-96x96.png",data:{url:t.openUrl}};e.waitUntil(self.registration.showNotification(t.title,n))})}});